stages:
  - stage: Build_pack
    jobs:
      - job: Build_pack_dotnet
        displayName: Build and package .NET
        condition: eq(variables.ComponentType, 'codeExtension')
        steps:
        - template: versioning-steps.yml
        - template: dotnet-package-steps.yml
      - job: Build_pack_nuspec
        displayName: Build and package nuspec
        condition: eq(variables.ComponentType, 'declarativeAsset')
        steps:
        - template: versioning-steps.yml
        - template: nuspec-package-steps.yml
      - job: Build_pack_npm
        displayName: Create npm package
        condition: or(eq(variables.ComponentType, 'declarativeAsset'), eq(variables.ComponentType, 'generator'))
        steps:
        - template: versioning-steps.yml
        - template: npm-package-steps.yml